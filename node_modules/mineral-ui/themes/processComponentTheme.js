"use strict";

exports.__esModule = true;
exports.default = processComponentTheme;
exports.getProcessedComponentThemeKeys = void 0;

var _mineralTheme = _interopRequireDefault(require("./mineralTheme"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var filterKeys = function filterKeys(source, exclusions) {
  return exclusions.length ? Object.keys(source).reduce(function (acc, key) {
    if (exclusions.indexOf(key) === -1) {
      acc[key] = source[key];
    }

    return acc;
  }, {}) : source;
};

var getProcessedComponentThemeKeys = function getProcessedComponentThemeKeys(componentTheme, options) {
  if (options === void 0) {
    options = {};
  }

  return Object.keys(processComponentTheme(componentTheme, options));
};

exports.getProcessedComponentThemeKeys = getProcessedComponentThemeKeys;

function processComponentTheme(componentThemeIn, options) {
  if (options === void 0) {
    options = {};
  }

  var _options = options,
      _options$baseTheme = _options.baseTheme,
      baseTheme = _options$baseTheme === void 0 ? _mineralTheme.default : _options$baseTheme,
      _options$excludeKeys = _options.excludeKeys,
      excludeKeys = _options$excludeKeys === void 0 ? [] : _options$excludeKeys,
      includeBaseTheme = _options.includeBaseTheme;
  var componentTheme = typeof componentThemeIn === 'function' ? componentThemeIn(baseTheme) : componentThemeIn;
  var filteredComponentTheme = filterKeys(componentTheme, excludeKeys);
  var filteredBaseTheme = filterKeys(baseTheme, excludeKeys);
  var filteredBaseThemeKeys = Object.keys(filteredBaseTheme);
  return includeBaseTheme ? filteredComponentTheme : filterKeys(filteredComponentTheme, filteredBaseThemeKeys);
}